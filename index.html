<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Portal del Funcionario</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  :root { --azul:#004aad; --verde:#3cb043; --naranjo:#f57c00; }
  .bg-azul{background-color:var(--azul)} .text-azul{color:var(--azul)}
</style>
</head>
<body class="bg-gray-50 text-slate-800">
<header class="bg-white shadow-sm">
  <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
    <h1 class="text-2xl font-bold text-azul">Portal del Funcionario</h1>
  </div>
</header>

<!-- Contenido principal -->
<main class="max-w-7xl mx-auto px-4 py-10 lg:pr-80">
  <h2 class="text-xl font-semibold mb-4">Bienvenido al Portal del Funcionario</h2>
  <p>
    El Departamento de Salud de la Corporación Municipal de San José de Maipo promueve el acceso a la información
    de sus funcionarios mediante este portal, que reúne información institucional, carrera funcionaria, permisos,
    solicitudes y más.
  </p>
</main>

<!-- Sidebar: Links de interés (solo visible si hay sesión activa) -->
<aside id="linksInteres" aria-label="Links de interés"
       class="hidden lg:block fixed right-6 top-28 w-72 z-30 opacity-0 transition-opacity duration-500">
  <div class="rounded-2xl border bg-white shadow p-4 space-y-3">
    <h2 class="text-lg font-semibold text-azul">Links de interés</h2>
    <a href="https://workera.com/portal/login" target="_blank" rel="noopener"
       class="block w-full px-4 py-3 rounded-xl bg-azul text-white font-medium hover:opacity-90">
      Reloj Control
    </a>
    <a href="https://e-learning.ssmso.cl/" target="_blank" rel="noopener"
       class="block w-full px-4 py-3 rounded-xl bg-azul text-white font-medium hover:opacity-90">
      Aula Virtual SSMSO
    </a>
    <a href="https://www.ssmso.cl/EA_AA/" target="_blank" rel="noopener"
       class="block w-full px-4 py-3 rounded-xl bg-azul text-white font-medium hover:opacity-90">
      Reporte Eventos Adversos
    </a>
    <a href="https://labsotero.ssmso.cl/" target="_blank" rel="noopener"
       class="block w-full px-4 py-3 rounded-xl bg-azul text-white font-medium hover:opacity-90">
      Laboratorio
    </a>
    <a href="https://interconsulta.minsal.cl/" target="_blank" rel="noopener"
       class="block w-full px-4 py-3 rounded-xl bg-azul text-white font-medium hover:opacity-90">
      Telemedicina
    </a>
    <a href="https://telesalud.gob.cl/" target="_blank" rel="noopener"
       class="block w-full px-4 py-3 rounded-xl bg-azul text-white font-medium hover:opacity-90">
      Telesalud
    </a>
    <a href="https://www.hospitaldigital.gob.cl" target="_blank" rel="noopener"
       class="block w-full px-4 py-3 rounded-xl bg-azul text-white font-medium hover:opacity-90">
      Hospital digital
    </a>
  </div>
</aside>

<footer class="border-t mt-10 text-center py-6 text-sm text-slate-600">
  © 2025 Corporación Municipal San José de Maipo
</footer>

<!-- Script: mostrar sidebar solo si hay sesión activa -->
<script type="module">
  import { createClient } from 'https://esm.sh/@supabase/supabase-js@2';
  const SUPABASE_URL = 'https://ocqoipzgtsanpyzjcsis.supabase.co';
  const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9jcW9pcHpndHNhbnB5empjc2lzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNjEwMDcsImV4cCI6MjA3NjczNzAwN30.mc3mM6ctAyQne5D_Dkw6w9BczzIE9CTe4AQFXqYsMo4';
  const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

  async function checkSession() {
    const { data: { session } } = await supabase.auth.getSession();
    const sidebar = document.getElementById('linksInteres');
    if (session) {
      sidebar.classList.remove('opacity-0');
      sidebar.classList.add('opacity-100');
    } else {
      sidebar.remove();
    }
  }

  document.addEventListener('DOMContentLoaded', checkSession);
</script>

</body>
</html>
