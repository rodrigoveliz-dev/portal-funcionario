<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Administrador RRHH</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script type="module">
    import { createClient } from "https://esm.sh/@supabase/supabase-js@2";

    const SUPABASE_URL = "https://vzmtivcsfrdpmhzcdxvl.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ6bXRpdmNzZnJkcG1oemNkeHZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzA1MzU1MTgsImV4cCI6MjA0NjExMTUxOH0.N_XhccGtb7SY3mlfjyUCEF0OxV1CqCcRnOt7p5Oe1qU";

    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    const SUPER_ADMINS = [
      'rodrigo.veliz@cormusjm.cl'
    ];

    // Columnas REALES de tu tabla "funcionarios"
    const cols = [
      'email',
      'categoria',
      'tipo_contrato',
      'fecha_inicio_contrato',
      'fecha_ingreso_publico',
      'cap_puntaje_historico',
      'cap_saldo_anterior',
      'cap_puntaje_anual',
      'cap_puntaje_total_periodo',
      'cap_puntaje_computado_anual',
      'cap_balance_final'
    ];

    async function mustBeAdmin() {
      const { data: { session } } = await supabase.auth.getSession();
      if (!session) {
        window.location.href = 'login.html';
        return null;
      }

      const email = session.user.email.toLowerCase().trim();
      document.getElementById('userEmail').textContent = email;

      // 1) Si es SUPER_ADMIN, pasa directo
      if (SUPER_ADMINS.includes(email)) {
        return session.user;
      }

      // 2) Validar contra la tabla admins
      const { data, error } = await supabase
        .from('admins')
        .select('email');

      if (error) {
        document.getElementById('err').textContent = 'Error validando rol: ' + error.message;
        console.error(error);
        document.getElementById('notAdmin').classList.remove('hidden');
        document.getElementById('adminApp').classList.add('hidden');
        return null;
      }

      const isAdmin = (data || []).some(a =>
        a.email && a.email.toLowerCase().trim() === email
      );

      if (!isAdmin) {
        document.getElementById('notAdmin').classList.remove('hidden');
        document.getElementById('adminApp').classList.add('hidden');
        return null;
      }

      return session.user;
    }

    function toInput(id) { return document.getElementById(id); }

    function setForm(row) {
      for (const c of cols) {
        const v = row?.[c] ?? '';
        const i = toInput(c); if (!i) continue;
        if (i.type === 'date') {
          i.value = v ? String(v).slice(0, 10) : '';
        } else {
          i.value = v;
        }
      }
    }

    async function loadTable() {
      const q = document.getElementById('q').value.trim();
      let query = supabase
        .from('funcionarios')
        .select(cols.join(','), { count: 'exact' })
        .order('email');

      if (q) query = query.ilike('email', `%${q}%`);

      const { data, error } = await query;
      const tbody = document.getElementById('tbody'); 
      tbody.innerHTML = '';

      if (error) {
        document.getElementById('err').textContent = error.message;
        console.error(error);
        return;
      }

      document.getElementById('err').textContent = '';

      for (const r of data) {
        const tr = document.createElement('tr');
        tr.className = 'hover:bg-slate-50 cursor-pointer';

        tr.innerHTML = `
          <td class="px-3 py-2 text-sm">${r.email ?? ''}</td>
          <td class="px-3 py-2 text-sm">${r.categoria ?? ''}</td>
          <td class="px-3 py-2 text-sm">${r.tipo_contrato ?? ''}</td>
          <td class="px-3 py-2 text-sm">${r.fecha_inicio_contrato ? String(r.fecha_inicio_contrato).slice(0,10) : ''}</td>
          <td class="px-3 py-2 text-sm">${r.fecha_ingreso_publico ? String(r.fecha_ingreso_publico).slice(0,10) : ''}</td>
          <td class="px-3 py-2 text-sm">${r.cap_puntaje_historico ?? ''}</td>
          <td class="px-3 py-2 text-sm">${r.cap_saldo_anterior ?? ''}</td>
          <td class="px-3 py-2 text-sm">${r.cap_puntaje_anual ?? ''}</td>
          <td class="px-3 py-2 text-sm">${r.cap_puntaje_total_periodo ?? ''}</td>
          <td class="px-3 py-2 text-sm">${r.cap_puntaje_computado_anual ?? ''}</td>
          <td class="px-3 py-2 text-sm">${r.cap_balance_final ?? ''}</td>
        `;
        tr.addEventListener('click', () => {
          setForm(r);
          document.getElementById('email').readOnly = true;
          document.getElementById('mode').textContent = 'Editar funcionario';

          const liqEmailInput = document.getElementById('liqEmail');
          if (liqEmailInput) {
            liqEmailInput.value = r.email || '';
            const email = liqEmailInput.value.trim();
            if (email) {
              loadLiquidaciones(email);
            }
          }
        });
        tbody.appendChild(tr);
      }
    }

    async function save() {
      const row = {};
      for (const c of cols) {
        row[c] = toInput(c)?.value || null;
      }
      if (!row.email) {
        alert('Email es obligatorio');
        return;
      }

      // Campos numéricos
      for (const n of [
        'cap_puntaje_historico',
        'cap_saldo_anterior',
        'cap_puntaje_anual',
        'cap_puntaje_total_periodo',
        'cap_puntaje_computado_anual',
        'cap_balance_final'
      ]) {
        if (row[n] !== null && row[n] !== '') {
          row[n] = Number(row[n]);
        } else {
          row[n] = null;
        }
      }

      const { error } = await supabase.from('funcionarios').upsert(row).select();
      if (error) {
        alert('Error al guardar: ' + error.message);
        console.error(error);
        return;
      }
      await loadTable();
      alert('Guardado');
      clearForm();
    }

    function clearForm() {
      setForm(null);
      document.getElementById('email').readOnly = false;
      document.getElementById('mode').textContent = 'Nuevo funcionario';
    }

    // ===== FUNCIONARIO: ELIMINAR =====

    async function deleteFuncionario() {
      const emailInput = document.getElementById('email');
      const email = (emailInput?.value || '').trim();

      if (!email) {
        alert('Debes seleccionar un funcionario (o ingresar el email) para eliminar.');
        return;
      }

      const ok = confirm(`¿Eliminar definitivamente al funcionario con email ${email}? Esta acción no se puede deshacer.`);
      if (!ok) return;

      const { error } = await supabase
        .from('funcionarios')
        .delete()
        .eq('email', email);

      if (error) {
        console.error('Error al eliminar funcionario', error);
        alert('Error al eliminar: ' + error.message);
        return;
      }

      alert('Funcionario eliminado correctamente.');
      clearForm();
      await loadTable();
    }

    // ===== LIQUIDACIONES =====
   async function loadLiquidaciones(email) {
  const tbody = document.getElementById('liqTbody');
  const msg = document.getElementById('liqMsg');
  if (!tbody) return;

  if (!email) {
    tbody.innerHTML = `<tr><td colspan="5" class="px-3 py-3 text-center text-slate-500 text-xs">Ingresa un email para ver el historial.</td></tr>`;
    return;
  }

  tbody.innerHTML = `<tr><td colspan="5" class="px-3 py-3 text-center text-slate-500 text-xs">Cargando…</td></tr>`;
  msg.textContent = '';

  const { data, error } = await supabase
    .from('liquidaciones')
    .select('anio, mes, storage_path, uploaded_at, uploaded_by')
    .eq('email', email)
    .order('anio', { ascending:false })
    .order('mes', { ascending:false });

  if (error) {
    tbody.innerHTML = `<tr><td colspan="5" class="px-3 py-3 text-center text-red-600 text-xs">Error al cargar liquidaciones.</td></tr>`;
    console.error(error);
    return;
  }

  if (!data || data.length === 0) {
    tbody.innerHTML = `<tr><td colspan="5" class="px-3 py-3 text-center text-slate-500 text-xs">No hay liquidaciones registradas para este funcionario.</td></tr>`;
    return;
  }

  tbody.innerHTML = '';
  for (const row of data) {
    const tr = document.createElement('tr');
    tr.className = "hover:bg-slate-50";
    const fecha = row.uploaded_at ? new Date(row.uploaded_at).toLocaleString('es-CL') : '';
    const link  = `https://vzmtivcsfrdpmhzcdxvl.supabase.co/storage/v1/object/public/liquidaciones/${row.storage_path}`;

    tr.innerHTML = `
      <td class="px-3 py-2 text-sm">${row.anio}</td>
      <td class="px-3 py-2 text-sm">${row.mes}</td>
      <td class="px-3 py-2 text-sm">${fecha}</td>
      <td class="px-3 py-2 text-sm">${row.uploaded_by ?? ''}</td>
      <td class="px-3 py-2 text-sm">
        <a href="${link}" target="_blank" class="text-azul underline text-xs">Ver PDF</a>
        <button class="ml-2 text-red-600 text-xs underline">Eliminar</button>
      </td>
    `;

    const deleteBtn = tr.querySelector('button');
    deleteBtn.addEventListener('click', async () => {
      if (!confirm('¿Eliminar esta liquidación?')) return;

      // 1) Borrar del storage
      const { error: storageError } = await supabase
        .storage
        .from('liquidaciones')
        .remove([row.storage_path]);

      if (storageError) {
        console.error('Error eliminando del storage', storageError);
        msg.textContent = 'Error al borrar el archivo del storage: ' + storageError.message;
        return;
      }

      // 2) Borrar el registro en la tabla
      const { error: dbError } = await supabase
        .from('liquidaciones')
        .delete()
        .eq('email', email)
        .eq('anio', row.anio)
        .eq('mes', row.mes);

      if (dbError) {
        console.error('Error eliminando fila en liquidaciones', dbError);
        msg.textContent = 'Archivo borrado del storage, pero hubo un problema borrando el registro en la base de datos: ' + (dbError.message || '');
        return;
      }

      msg.textContent = 'Liquidación eliminada correctamente.';
      await loadLiquidaciones(email);
    });

    tbody.appendChild(tr);
  }
}

    async function uploadLiquidacion(adminEmail) {
  const emailInput = document.getElementById('liqEmail');
  const anioInput  = document.getElementById('liqAnio');
  const mesSelect  = document.getElementById('liqMes');
  const fileInput  = document.getElementById('liqFile');
  const msg        = document.getElementById('liqMsg');

  const email = (emailInput?.value || '').trim();
  const anio  = Number(anioInput?.value || '');
  const mes   = Number(mesSelect?.value || '');
  const file  = fileInput?.files?.[0];

  msg.textContent = '';

  if (!email) {
    msg.textContent = 'Debes ingresar el email del funcionario.';
    return;
  }
  if (!anio || !mes) {
    msg.textContent = 'Debes indicar año y mes.';
    return;
  }
  if (!file) {
    msg.textContent = 'Selecciona un archivo PDF.';
    return;
  }

  if (file.type !== 'application/pdf') {
    msg.textContent = 'El archivo debe ser un PDF.';
    return;
  }

  // Construir ruta en el storage
  const filePath = `${email}/${anio}-${String(mes).padStart(2, '0')}.pdf`;

  // Subir al storage
  const { error: uploadError } = await supabase.storage
    .from('liquidaciones')
    .upload(filePath, file, { upsert: true });

  if (uploadError) {
    console.error('Error al subir archivo al storage:', uploadError);
    msg.textContent = 'Error al subir archivo al storage: ' + uploadError.message;
    return;
  }

  // Registrar/actualizar en la tabla "liquidaciones"
  const { error: dbError } = await supabase
    .from('liquidaciones')
    .upsert({
      email,
      anio,
      mes,
      storage_path: filePath,
      uploaded_by: adminEmail,
    });

  if (dbError) {
    console.error('Error al registrar liquidación en la base de datos:', dbError);
    msg.textContent = 'Error al registrar liquidación en la base de datos: ' + dbError.message;
    return;
  }

  msg.textContent = 'Liquidación subida/actualizada correctamente.';
  await loadLiquidaciones(email);
}

    window.addEventListener('DOMContentLoaded', async () => {
      const user = await mustBeAdmin();
      if (!user) return;

      await loadTable();

      document.getElementById('q').addEventListener('input', () => loadTable());
      document.getElementById('save').addEventListener('click', save);
      document.getElementById('new').addEventListener('click', clearForm);

      const deleteBtn = document.getElementById('delete');
      if (deleteBtn) {
        deleteBtn.addEventListener('click', deleteFuncionario);
      }

      document.getElementById('logout').addEventListener('click', async () => {
        await supabase.auth.signOut();
        window.location.href = 'login.html';
      });

      const liqEmailInput = document.getElementById('liqEmail');
      const liqUploadBtn  = document.getElementById('liqUploadBtn');

      if (liqEmailInput) {
        liqEmailInput.addEventListener('change', () => {
          const email = liqEmailInput.value.trim();
          loadLiquidaciones(email);
        });
      }

      if (liqUploadBtn) {
        liqUploadBtn.addEventListener('click', () => {
          uploadLiquidacion(user.email);
        });
      }
    });
  </script>
</head>
<body class="bg-white text-slate-800">
  <header class="border-b">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-3">
        <img src="Calificaciones.png" alt="Logo" class="h-10 w-auto"/>
        <span class="font-semibold text-azul">Portal del Funcionario</span>
      </a>
      <div class="flex items-center gap-3 text-sm">
        <span id="userEmail" class="badge"></span>
        <button id="logout" class="px-3 py-1 rounded bg-azul text-white">Cerrar sesión</button>
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-10">
    <div id="notAdmin" class="hidden border border-red-200 bg-red-50 text-red-700 px-4 py-3 rounded">
      No tienes permisos para acceder a esta sección. Contacta a RRHH.
    </div>

    <div id="adminApp" class="space-y-8">
      <div class="flex items-center justify-between mb-6">
        <h1 class="text-3xl font-bold text-azul">Administrador RRHH</h1>
        <div class="flex gap-2">
          <input id="q" type="search" placeholder="Buscar por email" class="rounded-xl border-slate-300 focus:border-azul focus:ring-azul px-3 py-2" />
          <button id="new" class="px-4 py-2 rounded-xl border">Nuevo</button>
          <button id="save" class="px-4 py-2 rounded-xl bg-azul text-white">Guardar</button>
          <button id="delete" class="px-4 py-2 rounded-xl border border-red-300 text-red-600">Eliminar</button>
        </div>
      </div>

      <div id="err" class="text-red-600 text-sm mb-4"></div>

      <div class="grid lg:grid-cols-2 gap-8">
        <!-- Tabla funcionarios -->
        <section class="rounded-xl border bg-white shadow-sm overflow-hidden">
          <header class="px-4 py-3 border-b bg-slate-50">
            <h2 class="font-semibold text-slate-700">Funcionarios</h2>
          </header>
          <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-slate-200">
              <thead class="bg-slate-50">
                <tr>
                  <th class="px-3 py-2 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">Email</th>
                  <th class="px-3 py-2 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">Cat.</th>
                  <th class="px-3 py-2 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">Tipo contrato</th>
                  <th class="px-3 py-2 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">Inicio contrato</th>
                  <th class="px-3 py-2 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">Ingreso público</th>
                  <th class="px-3 py-2 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">CAP hist.</th>
                  <th class="px-3 py-2 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">CAP saldo ant.</th>
                  <th class="px-3 py-2 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">CAP puntaje anual</th>
                  <th class="px-3 py-2 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">CAP total período</th>
                  <th class="px-3 py-2 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">CAP computado anual</th>
                  <th class="px-3 py-2 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider">CAP balance final</th>
                </tr>
              </thead>
              <tbody id="tbody" class="divide-y divide-slate-200 bg-white">
              </tbody>
            </table>
          </div>
        </section>

        <!-- Formulario funcionario -->
        <section class="rounded-xl border bg-white shadow-sm">
          <header class="px-4 py-3 border-b bg-slate-50 flex items-center justify-between">
            <h2 class="font-semibold text-slate-700">
              <span id="mode">Nuevo funcionario</span>
            </h2>
          </header>
          <div class="p-4 space-y-4 text-sm">
            <div>
              <label for="email" class="block text-xs font-medium text-slate-600">Email</label>
              <input id="email" type="email" placeholder="usuario@cormusjm.cl" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2" />
            </div>

            <div class="grid grid-cols-2 gap-4">
              <div>
                <label for="categoria" class="block text-xs font-medium text-slate-600">Categoría</label>
                <select id="categoria" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2">
                  <option value="">-</option>
                  <option value="A">A (Prof. médico)</option>
                  <option value="B">B (Prof. otros)</option>
                  <option value="C">C (Técnico)</option>
                  <option value="D">D (Administrativo)</option>
                  <option value="E">E (Auxiliar)</option>
                </select>
              </div>

              <div>
                <label for="tipo_contrato" class="block text-xs font-medium text-slate-600">Tipo de contrato</label>
                <select id="tipo_contrato" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2">
                  <option value="">Indefinido / Plazo fijo</option>
                  <option value="Indefinido">Indefinido</option>
                  <option value="Plazo fijo">Plazo fijo</option>
                </select>
              </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
              <div>
                <label for="fecha_inicio_contrato" class="block text-xs font-medium text-slate-600">Inicio contrato vigente</label>
                <input id="fecha_inicio_contrato" type="date" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2" />
              </div>
              <div>
                <label for="fecha_ingreso_publico" class="block text-xs font-medium text-slate-600">Ingreso funcionario público</label>
                <input id="fecha_ingreso_publico" type="date" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2" />
              </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
              <div>
                <label for="cap_puntaje_historico" class="block text-xs font-medium text-slate-600">CAP puntaje histórico</label>
                <input id="cap_puntaje_historico" type="number" step="1" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2" />
              </div>
              <div>
                <label for="cap_saldo_anterior" class="block text-xs font-medium text-slate-600">CAP saldo anterior</label>
                <input id="cap_saldo_anterior" type="number" step="1" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2" />
              </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
              <div>
                <label for="cap_puntaje_anual" class="block text-xs font-medium text-slate-600">CAP puntaje anual</label>
                <input id="cap_puntaje_anual" type="number" step="1" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2" />
              </div>
              <div>
                <label for="cap_puntaje_total_periodo" class="block text-xs font-medium text-slate-600">CAP puntaje total período</label>
                <input id="cap_puntaje_total_periodo" type="number" step="1" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2" />
              </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
              <div>
                <label for="cap_puntaje_computado_anual" class="block text-xs font-medium text-slate-600">CAP puntaje computado anual</label>
                <input id="cap_puntaje_computado_anual" type="number" step="1" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2" />
              </div>
              <div>
                <label for="cap_balance_final" class="block text-xs font-medium text-slate-600">CAP balance final</label>
                <input id="cap_balance_final" type="number" step="1" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2" />
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- Gestión de liquidaciones -->
      <section class="rounded-xl border bg-white shadow-sm">
        <header class="px-4 py-3 border-b bg-slate-50">
          <h2 class="font-semibold text-slate-700">Gestión de liquidaciones de sueldo</h2>
        </header>
        <div class="p-4 space-y-4 text-sm">
          <p class="text-slate-600 text-xs">
            Sube o actualiza las liquidaciones de sueldo de los funcionarios. La búsqueda se realiza por correo institucional.
          </p>

          <div class="grid md:grid-cols-3 gap-4 items-end">
            <div>
              <label for="liqEmail" class="block text-xs font-medium text-slate-600">Email funcionario</label>
              <input id="liqEmail" type="email" placeholder="usuario@cormusjm.cl" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2" />
            </div>
            <div>
              <label for="liqAnio" class="block text-xs font-medium text-slate-600">Año</label>
              <input id="liqAnio" type="number" min="2000" max="2100" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2" />
            </div>
            <div>
              <label for="liqMes" class="block text-xs font-medium text-slate-600">Mes</label>
              <select id="liqMes" class="mt-1 block w-full rounded-lg border-slate-300 focus:border-azul focus:ring-azul px-3 py-2">
                <option value="">-</option>
                <option value="1">Enero</option>
                <option value="2">Febrero</option>
                <option value="3">Marzo</option>
                <option value="4">Abril</option>
                <option value="5">Mayo</option>
                <option value="6">Junio</option>
                <option value="7">Julio</option>
                <option value="8">Agosto</option>
                <option value="9">Septiembre</option>
                <option value="10">Octubre</option>
                <option value="11">Noviembre</option>
                <option value="12">Diciembre</option>
              </select>
            </div>
          </div>

          <div class="grid md:grid-cols-[1.5fr_1fr] gap-4 items-end">
            <div>
              <label for="liqFile" class="block text-xs font-medium text-slate-600">Archivo PDF de liquidación</label>
              <input id="liqFile" type="file" accept="application/pdf" class="mt-1 block w-full text-xs" />
            </div>
            <div class="flex flex-col gap-2">
              <button id="liqUploadBtn" class="mt-1 px-4 py-2 rounded-xl bg-azul text-white text-sm">
                Subir / Actualizar liquidación
              </button>
              <div id="liqMsg" class="text-xs text-slate-600"></div>
            </div>
          </div>

          <div class="mt-4 border-t pt-3">
            <h3 class="text-xs font-semibold text-slate-600 mb-2">Historial del funcionario</h3>
            <div class="overflow-x-auto">
              <table class="min-w-full divide-y divide-slate-200 text-xs">
                <thead class="bg-slate-50">
                  <tr>
                    <th class="px-3 py-2 text-left font-semibold text-slate-500 uppercase tracking-wider">Año</th>
                    <th class="px-3 py-2 text-left font-semibold text-slate-500 uppercase tracking-wider">Mes</th>
                    <th class="px-3 py-2 text-left font-semibold text-slate-500 uppercase tracking-wider">Fecha carga</th>
                    <th class="px-3 py-2 text-left font-semibold text-slate-500 uppercase tracking-wider">Subida por</th>
                    <th class="px-3 py-2 text-left font-semibold text-slate-500 uppercase tracking-wider">Acción</th>
                  </tr>
                </thead>
                <tbody id="liqTbody" class="divide-y divide-slate-200 bg-white">
                  <tr>
                    <td colspan="5" class="px-3 py-3 text-center text-slate-500 text-xs">
                      No hay liquidaciones registradas para este funcionario.
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

        </div>
      </section>
    </div>
  </main>
</body>
</html>
